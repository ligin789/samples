import moment from "moment-timezone";

export const getLocalTimeInHHmmFormat = (date:string, timeZone:string) => {
    let localStringValue = new Date(date).toLocaleTimeString('en-GB',{
        timeZone,
        hour:'2-digit',
        minute:'2-digit'
    })
    const utcOffset = moment.tz(new Date(date).toISOString(),timeZone).utcOffset();
    const gmtHHString = parseInt(`${utcOffset/60}`).toString().padStart(2,'0');
    const gmtmmString = (utcOffset%60).toString().padStart(2,'0')
    return {localStringValue,gmtString:`${utcOffset>=0 ? '+' : ''}${gmtHHString}:${gmtmmString}`}
}

export const getLocalTimeAndGMT = (date:string) =>{
    const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    return getLocalTimeInHHmmFormat(date,timeZone)
}
