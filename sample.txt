import React, { useState } from "react";
import DynamicRender from "../dynamicrenderer";
import InboundCrewPopupJson from "../../assets/jsons/crewPopUp.json"
 
export const CrewPopUp = () => {
  const [crewJson, setCrewJson] = useState(InboundCrewPopupJson)
  const [widgetTemplateData, setWidgetTemplateData]: any = useState(crewJson?.widgetTemplate?.outboundTemplate)
  const mapFunctions = {
    inboundCrewTabClickHandler: (data: any) => {
      let widgetData = crewJson
      widgetData.widgetAttributes.taskCategoryInBoundTabSelected = true
      widgetData.widgetAttributes.taskCategoryOutBoundTabSelected = false
      setCrewJson(widgetData)
      setWidgetTemplateData(widgetData?.widgetTemplate.inboundTemplate)
    },
    outboundCrewTabClickHandler: (data: any) => {
      let widgetData = crewJson
      widgetData.widgetAttributes.taskCategoryInBoundTabSelected = false
      widgetData.widgetAttributes.taskCategoryOutBoundTabSelected = true
      setCrewJson(widgetData)
      setWidgetTemplateData(widgetData?.widgetTemplate?.outboundTemplate)
    }
  }
  return (
    crewJson &&
    <div style={{ position: "absolute", zIndex: 10, left: "25%", top: "12%" }}>
      <DynamicRender
        data={{ widgetAttributes: crewJson?.widgetAttributes, widgetTemplate: widgetTemplateData }}
        mainListIndex={1}
        mappedFunctions={mapFunctions}
      />
    </div>
  )
 
}
export default CrewPopUp
